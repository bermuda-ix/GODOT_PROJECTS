[gd_scene load_steps=34 format=3 uid="uid://bwy4dfs27ji8h"]

[ext_resource type="PackedScene" uid="uid://j41r1dqp7vf3" path="res://levels/standard_lvl_template.tscn" id="1_7j8nt"]
[ext_resource type="PackedScene" uid="uid://b4uytwmkvsqi0" path="res://pc.tscn" id="2_dtpw0"]
[ext_resource type="PackedScene" uid="uid://gbk0wce4k61v" path="res://LVL_Transitions/victory_screen.tscn" id="2_tnflb"]
[ext_resource type="PackedScene" uid="uid://2t2be0q7lqvs" path="res://Art_Components/tile_maps/lab_architect.tscn" id="3_fyow3"]
[ext_resource type="PackedScene" uid="uid://blsmgy883jm3a" path="res://levels/level_backgrounds/desert_background.tscn" id="4_iov4b"]
[ext_resource type="Curve2D" uid="uid://jo0boc3igvpj" path="res://Component/resources/curves/prologue_lvl.tres" id="4_p4nhw"]
[ext_resource type="PackedScene" uid="uid://bt6url6xt1nqm" path="res://Component/interactables/lab_door_switch.tscn" id="5_ru525"]
[ext_resource type="PackedScene" uid="uid://b8htmq8u3ykss" path="res://Component/interactables/door.tscn" id="6_jykkx"]
[ext_resource type="PackedScene" uid="uid://2n8eqdqt683t" path="res://Component/spawn_point.tscn" id="7_h0p3s"]
[ext_resource type="PackedScene" uid="uid://cmbh5yrvkl5a6" path="res://chars/flying_enemy.tscn" id="8_bi776"]
[ext_resource type="PackedScene" uid="uid://b5d2nkkrrcixy" path="res://chars/soldier_enemy.tscn" id="9_grstv"]
[ext_resource type="PackedScene" uid="uid://mve6miefg0i0" path="res://chars/turret_enemies/turret_base_3.tscn" id="10_kabbc"]
[ext_resource type="PackedScene" uid="uid://idc8e7mjacdd" path="res://Component/turret_link.tscn" id="11_kpmgs"]
[ext_resource type="PackedScene" uid="uid://berbmq4u2lo3s" path="res://chars/guard_enemy.tscn" id="11_vtk8u"]
[ext_resource type="PackedScene" uid="uid://dak3j323lms0s" path="res://chars/sleeping_guard.tscn" id="12_jyauw"]
[ext_resource type="PackedScene" uid="uid://dpxyvs3nt3yix" path="res://Component/interactables/elevator.tscn" id="14_dmeha"]
[ext_resource type="PackedScene" uid="uid://bvvdaxqcb1uvh" path="res://chars/mech_ranged.tscn" id="14_h7re7"]
[ext_resource type="Script" uid="uid://b5xtckuuvqief" path="res://levels/camera_pos.gd" id="17_cxkws"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cxkws"]
resource_local_to_scene = true
size = Vector2(37.8948, 53.5486)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_htxyq"]
vertices = PackedVector2Array(1645.83, 430, 1122, 430, 1122, 322, 1882.08, 322)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1112, 312, 1112, 440, 1648, 440, 1928, 312)])

[sub_resource type="NavigationPolygon" id="NavigationPolygon_nlf3e"]
vertices = PackedVector2Array(1926, -110, 1926, 158, 1618.8, 158, 1434.8, 46, 802, 46, 802, -110)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(3, 4, 5, 0)])
outlines = Array[PackedVector2Array]([PackedVector2Array(792, -120, 792, 56, 1432, 56, 1616, 168, 1936, 168, 1936, -120)])

[sub_resource type="NavigationPolygon" id="NavigationPolygon_pxxff"]
vertices = PackedVector2Array(1634.46, 458, 1958, 288.523, 1958, 313.938, 1629.54, 486, 74, 458, 74, 486)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5)])
outlines = Array[PackedVector2Array]([PackedVector2Array(64, 448, 64, 496, 1632, 496, 1968, 320, 1968, 272, 1632, 448)])

[sub_resource type="NavigationPolygon" id="NavigationPolygon_olhh5"]
vertices = PackedVector2Array(2289.24, 308.992, 2010, 309.961, 2010, 274, 2290.9, 274, 2374.9, 311, 2344.25, 349, 3571, 349, 3571, 311)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(0, 3, 4, 5), PackedInt32Array(6, 5, 4, 7)])
outlines = Array[PackedVector2Array]([PackedVector2Array(2000, 264, 2000, 320, 3583, 319, 3582, 264)])

[sub_resource type="NavigationPolygon" id="NavigationPolygon_jyauw"]
vertices = PackedVector2Array(3560, 79, 3560, 109.992, 2361.76, 109, 2358.25, 79, 2299.76, 72, 2294.25, 41, 2050, 72, 2050, 41)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(3, 2, 4, 5), PackedInt32Array(5, 4, 6, 7)])
outlines = Array[PackedVector2Array]([PackedVector2Array(2040, 82, 2297, 82, 2359, 119, 3570, 120, 3570, 69, 2361, 69, 2297, 31, 2040, 31)])

[sub_resource type="NavigationPolygon" id="NavigationPolygon_dmeha"]
vertices = PackedVector2Array(2478.47, 790, 1959, 790.977, 1959, 748, 2478.5, 748, 2994.49, 514, 2993.5, 473, 3558, 473, 3558, 514)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5), PackedInt32Array(4, 5, 6, 7)])
outlines = Array[PackedVector2Array]([PackedVector2Array(1949, 738, 1949, 801, 2481, 800, 2997, 524, 3568, 524, 3568, 463, 2991, 463, 2476, 738)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jyauw"]
size = Vector2(68, 577)

[sub_resource type="Curve2D" id="Curve2D_p4nhw"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0.5, 0, 0, 0, 0, 100, 0.5)
}
point_count = 2

[sub_resource type="Animation" id="Animation_h7re7"]
resource_name = "INTRO"
length = 11.6
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PC/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("idle_walk", "idle_speech", "check_equipment"),
"times": PackedFloat32Array(0, 2.5, 7.7)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("PC/Speech:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3.26667, 5.29185),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("PC/Speech:text")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(3.26667, 3.5, 3.73333, 4, 4.23333, 4.46667, 4.73333, 4.96509, 5.19843),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [".", "..", "...", ".", "..", "...", ".", "..", "..."]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(11.2),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"end_cutscene"
}]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("CameraPos:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 4.93333, 5.3, 7.3, 7.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(221, 396), Vector2(221, 396), Vector2(660, 219), Vector2(660, 219), Vector2(221, 396)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("PC:scale")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2, 2)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("PC/Path2D/PathFollow2D/AnimatedSprite2D:flip_h")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("CameraPos/Camera2D:zoom")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0, 4.93333, 5.30313, 7.3, 7.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1, 1), Vector2(0.5, 0.5), Vector2(0.5, 0.5), Vector2(1, 1)]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("PC/Path2D:curve")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0, 2.5, 2.56667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [SubResource("Curve2D_p4nhw"), SubResource("Curve2D_p4nhw"), null]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("PC/Path2D/PathFollow2D:progress_ratio")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0, 2.50112),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="Animation" id="Animation_tnflb"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PC/Speech:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("PC/Speech:text")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["..."]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Enemy/MiniBosses/MechRanged:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2098, 761)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Enemy/MiniBosses/MechRanged/NPCStats:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Enemy/MiniBosses/MechRanged:scale")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("PC:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2325, 776)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("PC:scale")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2, 2)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("PC/Path2D:curve")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("4_p4nhw")]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("CameraPos:position")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(221, 396)]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("PC/Path2D/PathFollow2D/AnimatedSprite2D:flip_h")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("PC/Path2D/PathFollow2D:progress_ratio")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/11/type = "value"
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/path = NodePath("PC/Path2D/PathFollow2D:rotates")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/12/type = "animation"
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/path = NodePath("Enemy/MiniBosses/MechRanged/AnimationPlayer")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/keys = {
"clips": PackedStringArray("RESET", "RESET"),
"times": PackedFloat32Array(0, 0.0333333)
}
tracks/13/type = "value"
tracks/13/imported = false
tracks/13/enabled = true
tracks/13/path = NodePath("PC/Path2D/PathFollow2D/AnimatedSprite2D:scale")
tracks/13/interp = 1
tracks/13/loop_wrap = true
tracks/13/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-0.396, 0.49)]
}
tracks/14/type = "value"
tracks/14/imported = false
tracks/14/enabled = true
tracks/14/path = NodePath("CameraPos/Camera2D:zoom")
tracks/14/interp = 1
tracks/14/loop_wrap = true
tracks/14/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/15/type = "value"
tracks/15/imported = false
tracks/15/enabled = true
tracks/15/path = NodePath("Enemy/MiniBosses/MechRanged/AnimatedSprite2D:flip_h")
tracks/15/interp = 1
tracks/15/loop_wrap = true
tracks/15/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Curve2D" id="Curve2D_e3spa"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 90.5, -33.1084, 8.35928, 3.48741, -8.35928, -3.48741, 64, -56.5, 13.494, -4.90691, -13.494, 4.90691, 35.5, -58.5, 3.69771, -9.84888, -3.69771, 9.84888, 9, -31, 0, 0, 0, 0, -0.5, -2.10837)
}
point_count = 5

[sub_resource type="Curve2D" id="Curve2D_kcvht"]

[sub_resource type="Animation" id="Animation_cxkws"]
resource_name = "mini_boss_kill"
length = 5.0
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Enemy/MiniBosses/MechRanged/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("shoot_left", "shoot_right", "death"),
"times": PackedFloat32Array(0.166667, 1.2, 2.93333)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Enemy/MiniBosses/MechRanged:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2.53333, 2.66667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(2019, 758), Vector2(2019, 758), Vector2(1999.24, 758)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Enemy/MiniBosses/MechRanged/NPCStats:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Enemy/MiniBosses/MechRanged:scale")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(1, 1)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("PC:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 1.16667, 2.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(2325, 776), Vector2(2202, 776), Vector2(2202, 776)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("PC:scale")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(-2, 2)]
}
tracks/6/type = "animation"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("PC/AnimationPlayer")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"clips": PackedStringArray("flip_backwards", "idle", "roll", "flip", "Cutscene/shoot_down", "flip_backwards"),
"times": PackedFloat32Array(0, 0.533333, 0.733333, 1.13333, 2.2, 2.96667)
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("PC/Path2D:curve")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(1.1501, 2.95668, 3.66667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [ExtResource("4_p4nhw"), SubResource("Curve2D_e3spa"), SubResource("Curve2D_kcvht")]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("CameraPos:position")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [Vector2(2210, 724), Vector2(2210, 724)]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("PC/Path2D/PathFollow2D:progress_ratio")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(1.16, 1.86667, 2.06667, 2.96667, 3.66667),
"transitions": PackedFloat32Array(1, 1, 1e+06, 1, 1),
"update": 0,
"values": [0.0, 0.8045, 1.0, 0.0, 1.0]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("PC/Path2D/PathFollow2D:rotates")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/11/type = "method"
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/path = NodePath(".")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/keys = {
"times": PackedFloat32Array(5),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"end_cutscene"
}]
}
tracks/12/type = "method"
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/path = NodePath("PC/HitStop")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/keys = {
"times": PackedFloat32Array(0.333333, 1.67993, 3),
"transitions": PackedFloat32Array(1, 1, 1),
"values": [{
"args": [0.2, 0.5],
"method": &"hit_stop"
}, {
"args": [0.2, 0.5],
"method": &"hit_stop"
}, {
"args": [0.2, 0.5],
"method": &"hit_stop"
}]
}
tracks/13/type = "value"
tracks/13/imported = false
tracks/13/enabled = true
tracks/13/path = NodePath("PC/Path2D/PathFollow2D/AnimatedSprite2D:scale")
tracks/13/interp = 1
tracks/13/loop_wrap = true
tracks/13/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.396, 0.49)]
}
tracks/14/type = "value"
tracks/14/imported = false
tracks/14/enabled = true
tracks/14/path = NodePath("Enemy/MiniBosses/MechRanged/AnimatedSprite2D:flip_h")
tracks/14/interp = 1
tracks/14/loop_wrap = true
tracks/14/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tnflb"]
_data = {
&"INTRO": SubResource("Animation_h7re7"),
&"RESET": SubResource("Animation_tnflb"),
&"mini_boss_kill": SubResource("Animation_cxkws")
}

[node name="PrologueLvl" node_paths=PackedStringArray("player") instance=ExtResource("1_7j8nt")]
next_level = ExtResource("2_tnflb")
player = NodePath("PC")
lvl_type = "adv"

[node name="PC" parent="." index="1" node_paths=PackedStringArray("camera_pos") instance=ExtResource("2_dtpw0")]
position = Vector2(2325, 776)
scale = Vector2(2, 2)
camera_pos = NodePath("../CameraPos")

[node name="Path2D" parent="PC" index="0"]
curve = ExtResource("4_p4nhw")

[node name="PathFollow2D" parent="PC/Path2D" index="0"]
position = Vector2(1.5, -1.56599)
rotates = false
loop = false

[node name="AnimatedSprite2D" parent="PC/Path2D/PathFollow2D" index="0"]
scale = Vector2(-0.396, 0.49)

[node name="HBCollision" parent="PC/Path2D/PathFollow2D/AnimatedSprite2D/HitBox" index="0"]
shape = SubResource("RectangleShape2D_cxkws")

[node name="Speech" parent="PC" index="20"]
visible = true

[node name="LabArchitect" parent="." index="2" instance=ExtResource("3_fyow3")]
position = Vector2(-8, 392)
scale = Vector2(1, 1.071)
collision_visibility_mode = 1

[node name="Non_TilesetCollisions" type="Node2D" parent="LabArchitect" index="7"]

[node name="stairs_1_1st_area" type="StaticBody2D" parent="LabArchitect/Non_TilesetCollisions" index="0"]
position = Vector2(1664, 67.2269)
scale = Vector2(1, 0.933707)
collision_mask = 3

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="LabArchitect/Non_TilesetCollisions/stairs_1_1st_area" index="0"]
position = Vector2(-1664, -72)
scale = Vector2(1, 1.071)
polygon = PackedVector2Array(1648, 97.1055, 1976, -67.2269, 2008, -67.2269, 2016, -59.7572, 1664, 104.575)

[node name="stairs_2_1st_area" type="StaticBody2D" parent="LabArchitect/Non_TilesetCollisions" index="1"]

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="LabArchitect/Non_TilesetCollisions/stairs_2_1st_area" index="0"]
polygon = PackedVector2Array(1504, -224.09, 1480, -224.09, 1352, -276.377, 1352, -291.317, 1384, -291.317, 1504, -231.559)

[node name="stairs_1_2nd_area" type="StaticBody2D" parent="LabArchitect/Non_TilesetCollisions" index="2"]
position = Vector2(966, -37.3483)

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="LabArchitect/Non_TilesetCollisions/stairs_1_2nd_area" index="0"]
polygon = PackedVector2Array(1335, -253.035, 1391, -218.487, 1410, -218.487, 1355, -251.167)

[node name="StaticBody2D" type="StaticBody2D" parent="LabArchitect/Non_TilesetCollisions" index="3"]
position = Vector2(2755, 260.504)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="LabArchitect/Non_TilesetCollisions/StaticBody2D" index="0"]
position = Vector2(10, -5.60224)
polygon = PackedVector2Array(233, -128.852, -271, 124.183, -285, 126.984, -279, 142.857, 244, -101.774, 247, -128.852)

[node name="Desert_Background" parent="." index="3" instance=ExtResource("4_iov4b")]
position = Vector2(5, 14)

[node name="lab_door_switch" parent="." index="4" node_paths=PackedStringArray("door_connect") instance=ExtResource("5_ru525")]
z_index = -1
position = Vector2(680, 480)
door_connect = NodePath("../Door")

[node name="Door" parent="." index="5" instance=ExtResource("6_jykkx")]
position = Vector2(736, 448)
scale = Vector2(1.03607, 1.19587)

[node name="lab_door_switch2" parent="." index="6" node_paths=PackedStringArray("door_connect") instance=ExtResource("5_ru525")]
position = Vector2(1040, 344)
door_connect = NodePath("../Door2")

[node name="Door2" parent="." index="7" instance=ExtResource("6_jykkx")]
z_index = -1
position = Vector2(1984, 264)
scale = Vector2(1, 1.18132)

[node name="SpawnPoint" parent="." index="8" instance=ExtResource("7_h0p3s")]
position = Vector2(1360, 424)
active = false
enemy_single = ExtResource("8_bi776")

[node name="SpawnPoint2" parent="." index="9" instance=ExtResource("7_h0p3s")]
position = Vector2(2264, 272)
active = false
enemy_single = ExtResource("8_bi776")
max_enemy = 1

[node name="Enemy" type="Node" parent="." index="10"]

[node name="soldiers" type="Node" parent="Enemy" index="0"]

[node name="soldier_enemy2" parent="Enemy/soldiers" index="0" instance=ExtResource("9_grstv")]
position = Vector2(2264, 272)

[node name="soldier_enemy3" parent="Enemy/soldiers" index="1" instance=ExtResource("9_grstv")]
position = Vector2(2416, 92)

[node name="flying" type="Node" parent="Enemy" index="1"]

[node name="flying_enemy2" parent="Enemy/flying" index="0" instance=ExtResource("8_bi776")]
position = Vector2(952, -56)

[node name="flying_enemy3" parent="Enemy/flying" index="1" instance=ExtResource("8_bi776")]
position = Vector2(1312, 0)

[node name="turrets" type="Node" parent="Enemy" index="2"]

[node name="turret_base_3" parent="Enemy/turrets" index="0" instance=ExtResource("10_kabbc")]
position = Vector2(1967, 206)
rotation = -1.5708
scale = Vector2(0.1, 0.1)

[node name="turret_base_4" parent="Enemy/turrets" index="1" node_paths=PackedStringArray("turret_link_control") instance=ExtResource("10_kabbc")]
position = Vector2(938, 71)
scale = Vector2(-0.1, 0.1)
turret_link_control = NodePath("../TurretLink")

[node name="turret_base_5" parent="Enemy/turrets" index="2" node_paths=PackedStringArray("turret_link_control") instance=ExtResource("10_kabbc")]
position = Vector2(770, -6)
rotation = 1.57333
scale = Vector2(-0.1, 0.1)
turret_link_control = NodePath("../TurretLink")

[node name="turret_base_6" parent="Enemy/turrets" index="3" node_paths=PackedStringArray("turret_link_control") instance=ExtResource("10_kabbc")]
position = Vector2(2100, -9)
rotation = 3.14159
scale = Vector2(0.1, 0.1)
turret_link_control = NodePath("../TurretLink2")

[node name="turret_base_7" parent="Enemy/turrets" index="4" node_paths=PackedStringArray("turret_link_control") instance=ExtResource("10_kabbc")]
position = Vector2(2373, -9)
rotation = 3.14159
scale = Vector2(0.1, 0.1)
turret_link_control = NodePath("../TurretLink2")

[node name="turret_base_9" parent="Enemy/turrets" index="5" instance=ExtResource("10_kabbc")]
position = Vector2(3448, -8)
rotation = 3.14159
scale = Vector2(0.1, 0.1)

[node name="TurretLink" parent="Enemy/turrets" index="6" node_paths=PackedStringArray("turrets") instance=ExtResource("11_kpmgs")]
position = Vector2(850, 98)
turrets = [NodePath("../turret_base_4"), NodePath("../turret_base_5")]

[node name="TurretLink2" parent="Enemy/turrets" index="7" node_paths=PackedStringArray("turrets") instance=ExtResource("11_kpmgs")]
position = Vector2(2221, -6)
turrets = [NodePath("../turret_base_6"), NodePath("../turret_base_7")]

[node name="Guards" type="Node" parent="Enemy" index="3"]

[node name="GuardEnemy" parent="Enemy/Guards" index="0" instance=ExtResource("11_vtk8u")]
position = Vector2(1378, 465)
scale = Vector2(0.75, 0.75)

[node name="GuardEnemy2" parent="Enemy/Guards" index="1" instance=ExtResource("11_vtk8u")]
position = Vector2(2828, 301)
scale = Vector2(0.75, 0.75)

[node name="GuardEnemy3" parent="Enemy/Guards" index="2" instance=ExtResource("11_vtk8u")]
position = Vector2(3299, 302)
scale = Vector2(0.75, 0.75)

[node name="GuardEnemy4" parent="Enemy/Guards" index="3" instance=ExtResource("11_vtk8u")]
position = Vector2(3404, 90)
scale = Vector2(0.75, 0.75)

[node name="GuardEnemy5" parent="Enemy/Guards" index="4" instance=ExtResource("11_vtk8u")]
position = Vector2(3485, 302)
scale = Vector2(0.75, 0.75)

[node name="GuardEnemy6" parent="Enemy/Guards" index="5" instance=ExtResource("11_vtk8u")]
position = Vector2(3427, 490)

[node name="GuardEnemy7" parent="Enemy/Guards" index="6" instance=ExtResource("11_vtk8u")]
position = Vector2(3349, 487)

[node name="SleepingGuard" parent="Enemy" index="4" instance=ExtResource("12_jyauw")]
position = Vector2(656, 457)

[node name="MiniBosses" type="Node" parent="Enemy" index="5"]

[node name="MechRanged" parent="Enemy/MiniBosses" index="0" instance=ExtResource("14_h7re7")]
position = Vector2(2098, 761)
lvl_boss = true

[node name="AirNavs" type="Node2D" parent="." index="11"]

[node name="AirNav1_Inside" type="NavigationRegion2D" parent="AirNavs" index="0"]
navigation_polygon = SubResource("NavigationPolygon_htxyq")

[node name="AirNav1_Above" type="NavigationRegion2D" parent="AirNavs" index="1"]
navigation_polygon = SubResource("NavigationPolygon_nlf3e")

[node name="GroundNavs" type="Node2D" parent="." index="12"]

[node name="GroundNav1_Inside" type="NavigationRegion2D" parent="GroundNavs" index="0"]
navigation_polygon = SubResource("NavigationPolygon_pxxff")
navigation_layers = 2

[node name="GroundNav2_Inside" type="NavigationRegion2D" parent="GroundNavs" index="1"]
navigation_polygon = SubResource("NavigationPolygon_olhh5")
navigation_layers = 2

[node name="GroundNav3_Inside" type="NavigationRegion2D" parent="GroundNavs" index="2"]
navigation_polygon = SubResource("NavigationPolygon_jyauw")
navigation_layers = 2

[node name="GroundNav1_B1" type="NavigationRegion2D" parent="GroundNavs" index="3"]
navigation_polygon = SubResource("NavigationPolygon_dmeha")
navigation_layers = 2

[node name="Links" type="Node2D" parent="GroundNavs" index="4"]

[node name="GNav_1Inside_2Inside" type="NavigationLink2D" parent="GroundNavs/Links" index="0"]
navigation_layers = 2
start_position = Vector2(2048, 296)
end_position = Vector2(1944, 304)

[node name="TutorialText" type="RichTextLabel" parent="." index="13"]
offset_left = 467.0
offset_top = 377.0
offset_right = 590.0
offset_bottom = 432.0
text = "LMB:ATTACK
ALT: LOCKON"

[node name="TutorialText2" type="RichTextLabel" parent="." index="14"]
offset_left = 978.0
offset_top = 396.0
offset_right = 1101.0
offset_bottom = 451.0
text = "CTRL: Dodge
SHIFT: Sprint"

[node name="TutorialText3" type="RichTextLabel" parent="." index="15"]
offset_left = 1599.0
offset_top = 255.0
offset_right = 1929.0
offset_bottom = 332.0
text = "RMB: Shoot (High Stagger Low Damage)
Hold Shift: Wall Stick
Space on wall: Wall Jump"

[node name="TutorialText4" type="RichTextLabel" parent="." index="16"]
offset_left = 876.0
offset_right = 1206.0
offset_bottom = 77.0
text = "Shift + Space while locked on: Flip over"

[node name="Bounderies2" type="StaticBody2D" parent="." index="17"]
position = Vector2(1886, 460)
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounderies2" index="0"]
position = Vector2(24, 278.5)
shape = SubResource("RectangleShape2D_jyauw")

[node name="Bounderies" type="StaticBody2D" parent="." index="18"]
position = Vector2(-1, 0)
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounderies" index="0"]
position = Vector2(24, 278.5)
shape = SubResource("RectangleShape2D_jyauw")

[node name="CutscenePlayer" type="AnimationPlayer" parent="." index="19"]
libraries = {
&"": SubResource("AnimationLibrary_tnflb")
}

[node name="DoorsAndSwitches" type="Node" parent="." index="20"]

[node name="Elevator" parent="DoorsAndSwitches" index="0" instance=ExtResource("14_dmeha")]
position = Vector2(3627, 525)
stops_ratio = Array[float]([0.0, 0.5, 0.0])

[node name="lab_door_switch" parent="DoorsAndSwitches" index="1" node_paths=PackedStringArray("door_connect") instance=ExtResource("5_ru525")]
position = Vector2(2072, 65)
door_connect = NodePath("../Elevator")

[node name="CameraPos" type="Node2D" parent="." index="21"]
position = Vector2(221, 396)
script = ExtResource("17_cxkws")

[node name="Camera2D" type="Camera2D" parent="CameraPos" index="0"]
position_smoothing_enabled = true
position_smoothing_speed = 3.0

[connection signal="attack_qte" from="PC" to="." method="_on_pc_attack_qte"]
[connection signal="block_qte" from="PC" to="." method="_on_pc_block_qte"]
[connection signal="dodge_qte" from="PC" to="." method="_on_pc_dodge_qte"]
[connection signal="no_input_qte" from="PC" to="." method="_on_pc_no_input_qte"]
[connection signal="special_atk_qte" from="PC" to="." method="_on_pc_special_atk_qte"]

[editable path="PC"]
[editable path="Enemy/MiniBosses/MechRanged"]
