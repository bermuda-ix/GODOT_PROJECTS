[gd_resource type="BehaviorTree" load_steps=17 format=3 uid="uid://b1t5gv0bt5din"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_cecvh"]
var/attack_mode/name = &"attack_mode"
var/attack_mode/type = 1
var/attack_mode/value = false
var/attack_mode/hint = 0
var/attack_mode/hint_string = ""
var/staggered/name = &"staggered"
var/staggered/type = 1
var/staggered/value = false
var/staggered/hint = 0
var/staggered/hint_string = ""
var/shoot_active/name = &"shoot_active"
var/shoot_active/type = 1
var/shoot_active/value = false
var/shoot_active/hint = 0
var/shoot_active/hint_string = ""

[sub_resource type="BBVariant" id="BBVariant_n0ccg"]
type = 1
saved_value = false
resource_name = "false"

[sub_resource type="BTCheckVar" id="BTCheckVar_l7px2"]
variable = &"staggered"
value = SubResource("BBVariant_n0ccg")
resource_local_to_scene = true

[sub_resource type="BBVariant" id="BBVariant_cecvh"]
type = 1
saved_value = true
resource_name = "true"

[sub_resource type="BTCheckVar" id="BTCheckVar_n0ccg"]
variable = &"attack_mode"
value = SubResource("BBVariant_cecvh")
resource_local_to_scene = true

[sub_resource type="BBVariant" id="BBVariant_l7px2"]
type = 1
saved_value = true
resource_name = "true"

[sub_resource type="BTCheckVar" id="BTCheckVar_va847"]
variable = &"shoot_active"
value = SubResource("BBVariant_l7px2")

[sub_resource type="BBNode" id="BBNode_cecvh"]
saved_value = NodePath("ShootAttackManager")
resource_name = "ShootAttackManager"

[sub_resource type="BTCallMethod" id="BTCallMethod_n0ccg"]
node = SubResource("BBNode_cecvh")
method = &"shoot"
resource_local_to_scene = true

[sub_resource type="BTCooldown" id="BTCooldown_l7px2"]
duration = 0.2
start_cooled = true
children = [SubResource("BTCallMethod_n0ccg")]

[sub_resource type="BTRepeatUntilFailure" id="BTRepeatUntilFailure_cecvh"]
children = [SubResource("BTCooldown_l7px2")]

[sub_resource type="BTSequence" id="BTSequence_n0ccg"]
custom_name = "Attack"
children = [SubResource("BTCheckVar_l7px2"), SubResource("BTCheckVar_n0ccg"), SubResource("BTCheckVar_va847"), SubResource("BTRepeatUntilFailure_cecvh")]
resource_local_to_scene = true

[sub_resource type="BBNode" id="BBNode_n0ccg"]
saved_value = NodePath("AnimationPlayer")
resource_name = "AnimationPlayer"

[sub_resource type="BTAwaitAnimation" id="BTAwaitAnimation_l7px2"]
animation_player = SubResource("BBNode_n0ccg")
animation_name = &"reload"
resource_local_to_scene = true

[sub_resource type="BTSequence" id="BTSequence_cecvh"]
custom_name = "Reload"
children = [SubResource("BTAwaitAnimation_l7px2")]

[sub_resource type="BTSelector" id="BTSelector_l7px2"]
children = [SubResource("BTSequence_n0ccg"), SubResource("BTSequence_cecvh")]
resource_local_to_scene = true

[resource]
blackboard_plan = SubResource("BlackboardPlan_cecvh")
root_task = SubResource("BTSelector_l7px2")
